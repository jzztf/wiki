## 4. python对象类型

- 程序 <== 模块 <== 语句 <== 表达式 <==对象


- 为什么使用"内置对象"

  - 内置对象使程序更容易编写
    - 对于简单任务,现有的内置对象更容易操作,比如简单排序加减元素等
  - 内置对象是扩展的组件
  - 内置对象往往比定制的数据结构更有效率
  - 内置对象是语言的标准的一部分

- python核心数据类型

- 常量(literal)是指其语法会生成对象的表达式

- 数字

  - 整数,浮点数等

- 字符串

  - 字符串是用来记录文本信息的

  - 序列的操作

    - 字符串在一定程度上可以被当做列表处理,具备序列的一些特征和方法

  - 字符串不可变对象,不能通过对某一位置赋值来改变其内容

    ```python
    s = "hello world!"
    s[-1] = "!!!"
    Traceback (most recent call last):
      File "<stdin>", line 1, in <module>
    TypeError: 'str' object does not support item assignment
    ```

    ​

  - 序列类型特定的方法,一些方法对于字符串,列表和元组都支持

  - 寻求帮助

    - `dir(str)`dir函数可以返回该对象的方法名称
    - `help(str.replace)`help函数可以更详细得介绍相关对象的方法

  - 编写字符串的其他方法

    - '\n'反斜杠加特殊字符代表有特殊含义,`\n`就表示换行
    - 单双引号都能表示字符串,三重引号可以表示多行字符串
    - `r`加字符串,叫做原始字符串

  - 模式匹配

    - 正则表达式进行模式匹配搜索字符串

- 列表

  - 列表时python中最通用的序列,是一个任意类型的对象的位置相关的有序集合,它没有固定的,能够直接赋值和使用列表方法调用
  - 序列操作
    - 偏移取值
    - 切片
    - 添加元素
    - 剔除元素
    - 边界检查,Python不允许引用不存在的值
    - 嵌套,生成多维数组
  - 列表解析(list comprehension expression)
    - 生成列表的一种简单的方式
    - 列表解析源于集合的概念,通过对序列中的每一个元素进行运算得到一个新列表
    - 解析语法也可以创建生成器和集合和字典

- 字典

  - python中的字典不是序列,是一种映射(mapping)
  - 映射是一个其他对象的集合,他们是通过键而不是相对位置存储的
  - 具有可变性,可以原地赋值
  - 映射通过键取值而不是位置的偏移

  ```python
  dict = {'john': 12, 'li': 11, 'mei': 13}
  dict['john']
  12
  ```

  ​

  - 字典也可以进行嵌套,嵌套列表或嵌套字典
  - 键的排序: for循环
    - 如果要对字典进行排序,可以对其键进行排序再引用
  - 迭代和优化
    - for循环是通用的迭代工具
    - python的一个主要原则是简单和可读性,在程序可以正常运行,需要考虑性能的的情况下使用time模块和timeit等模块进行测试优化
  - if测试不存在的键`if x in dict`

- 元组

  - 不可变的列表,两个特殊的方法
  - T.index('john')元素'john'的目录
  - T.count('john')元素'john'出现的次数
  - 为什么要用元组
    - 元组的不可变性提供了一种完整性的约束

- 文件

  - 文件对象是对电脑上的外部文件的主要接口

  ```python
  # 以写入方式打开文件
  >>> f = open('data.txt', 'w')
  >>> f.write("hello world!")
  >>> f.close()
  # 以只读方式打开文件
  >>> f = open('data.txt', 'r')
  >>> text = f.read()
  >>> text
  'hello world!'
  >>> f.close()
  ```

  - 其他文件类工具
    - 管道
    - 先进先出队列(FIFO)
    - 套接字
    - 通过键访问文件
    - 对象持久
    - 基于描述符的文件
    - 关系数据库
    - 面向对象数据库接口
  - 其他核心类型
    - 集合
    - 布尔值
  - 用户自定义的类

- 习题

  - python核心数据类型
    - 数字,字符串,列表,字典,元组,文件和集合
  - 为什么叫做核心数据类型
    - 因为他们都是python语言的一部分,直接可以生成,无需导入其他模块
  - "不可变性"代表什么
    - 创建后不能够被改变
    - 字符串,数字和元组属于不可变类型
  - "序列"是什么
    - 是一个对未知进行排序的对象的集合
  - "映射"是什么
    - 表示键和相关值相互关联映射
  - 什么是"多态"
    - "多态"意味着操作符的意义取决于所操作对象的类型
    - `+`号连接两个数字对象表示加法;连接两个字符串表示拼接
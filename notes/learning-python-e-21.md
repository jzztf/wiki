# 模块

- 模块是最高级别的程序组织单元, 它将程序代码和数据封装起来以便重用.

  - 每一个文件都是一个模块, 去掉后缀名, 就可以当做一个模块使用

  - 模块有两个语句和一个内置函数处理

    - import

    ```python
    # 载入某模块
    import Module
    ```

    ​

    - from

    ```python
    # 从某模块载入某方法
    from Module import func
    ```

    ​

    - imp.reload

    ```python
    # 重载模块, 使修改过的模块被重新载入
    import imp
    imp.reload(module)
    ```

    ​

- 为什么使用模块

  - 代码重用
  - 系统命名空间的划分
  - 实现共享服务和数据

- python程序架构

  - 程序往往不是一个单一脚本, 而是多个文件的组合运行

- 如何组织一个程序

  - 一个主体的, 顶层文件来构造, 配合零个或多个支持的文件
  - 导入和属性
    - 导入模块文件, 模块文件中的变量, 会以其属性的方式(object.attribute)出现
  - 标准库模块
    - 标准库是python自带的模块: 操作系统接口, 对象永久保存, 文字模式匹配, 网络和Internet脚本, GUI脚本等, 它们都不是python语言的一部分, 但是可以通过导入来使用

- import如何工作

  - 以下三个步骤只在程序执行时, 模块第一次导入时运行, 之后再导入只会从内存中提取.
  - 搜索
  - 编译(可选)
    - python会检查字节码的时间戳, 如果比之前的新, 会重新生成
  - 运行
    - 执行模块的字节码

- 模块搜索路径

  - 以下四个位置, 组合起来就是`sys.path`
  - 程序主目录
  - PYTHONPATH目录(如果已经定义)
    - 在系统中设置PYTHONPATH
  - 标准链接库目录
  - 任何`.pth`文件的内容(如果存在)
    - python可以python安装目录使用`.pth`文件设置模块路径

- 配置搜索路径

- 搜索路径的变动

- `sys.path`列表

- 模块文件选择

  - `.py`/`.pyc`/c扩展模块/相同变量名的目录

- 高级模块选择概念

- 第三方工具: distutils

  - 通常包含`setup.py`文件, 进行安装, 需要的模块